# 硬链接和软连接的区别
Linux系统中有硬链接和软链接之分，它们之间究竟什么区别呢，今天在这里总结以下，如有遗漏，不吝赐教。

分析硬链接与软连接的区别，可以从以下8个方面思考，
1. 是否是同一文件
2. 是否支持跨分区
3. 链接数是否增长
4. 结点号是否相同
5. 原始文件删除，链接文件可否访问
6. 链接文件的大小
7. 是否支持目录
8. 是否支持相对路径

|不同点|硬链接|软连接|  
|------|------|------|  
|是否指向同一文件|与原文件是同一个文件，表示一个文件起多个文件名|与原文件是不同文件|  
|是否可以跨分区|不支持跨分区|支持跨分区|
|链接数是否增长|链接数增加|链接数不增加|
|inode number 是否相同|相同|不同|
|原文件删除，链接文件是否可以访问|可以|不可以|
|链接文件与原文件的大小|与原文件大小相同|文件较小，文件大小是路径的大小|
|是否支持目录|不支持链接到目录|支持链接到目录|
|文件名支持的相对路径不同|硬链接支持的相对路径是相对于当前工作目录|软连接支持相对路径相对于链接目录|

# mv命令和ln -s 的区别
例 mv /dir1/f1 /dir2/f2  
mv 命令底层工作原理分为两种情况：  
1、/dir1 /dir2 在同一分区：mv 命令用新的文件名f2创建对应新的目录项，删除f1目录条目对应的旧的文件名，不影响f1 inode表（除时间戳）或磁盘上的数据位置，数据没有被移动。
2、/dir1 /dir2 在不同分区：在目标分区分配一个空闲的inode号，在inode表中生成新条目，在目录中创建一个目录项，将文件名f2与inode编号关联，拷贝f1数据到目标分区生成新的文件。释放源分区f1的inode号，以备重用，链接数递减，把数据块放在空闲列表中，删除源目录项。

例 ln -s /dir1/f1 /dir2/f2  
ln -s 符号链接底层工作原理不区分是否在同一分区：
分配一个新的inode号，inode表中生成新条目，在目录中创建一个目录项，将文件名f2与inode号关联，数据不移动，f2的内容时它引用的f1的路径，f1的inode号不变，f1的链接数不增加或减少。
